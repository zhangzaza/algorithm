flowchart TD
    A[开始] --> B{是否超出数组长度}
    B -->|Yes| C[返回0]
    B -->|No| D{是否持有股票}
    
    D -->|Yes| E{选择是否卖出}
    E -->|不卖出| F[递归调用 process1, 持有股票, 索引加1]
    E -->|卖出| G[计算利润, 递归调用 process1, 不持有股票, 索引加2]
    F --> H[返回最大值]
    G --> H
    
    D -->|No| I{选择是否买入}
    I -->|不买入| J[递归调用 process1, 不持有股票, 索引加1]
    I -->|买入| K[递归调用 process1, 持有股票, 索引加1]
    J --> L[返回最大值]
    K --> L